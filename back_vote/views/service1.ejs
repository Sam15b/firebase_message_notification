<!DOCTYPE html>
<html lang="en">

<head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Image Gallery</title>
      <link src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
      <style>
            /*   * {
                   margin: 0;
                  padding: 0;
                  box-sizing: border-box;
            }

            .container {
                  position: relative;
                  min-height: 100vh;
                  background: #ddd;
            }

            .container h1 {
                  font-size: 40px;
                  font-family: Verdana, Geneva, Tahoma, sans-serif;
                  font-weight: normal;
                  padding: 15px;
                  color: #333;
                  text-align: center;
                  text-transform: capitalize;
            } */

            /* Add your existing styles */

            body {
                  font-family: Arial, sans-serif;
                  margin: 0;
            }

            .image-container {
                  cursor: pointer;
                  width: 50%;
                  padding: 8px;
                  box-sizing: border-box;
            }

            .image-container img {
                  width: 100%;
                  height: auto;
            }

            .modal {
                  display: none;
                  position: fixed;
                  z-index: 1;
                  padding-top: 50px;
                  left: 0;
                  top: 0;
                  width: 100%;
                  height: 100%;
                  overflow: auto;
                  background-color: rgb(0, 0, 0);
                  background-color: rgba(0, 0, 0, 0.9);
            }

            .modal-content {
                  margin: auto;
                  display: flex;
                  flex-wrap: nowrap;
                  justify-content: space-between;
            }

            .mySlides {
                  display: none;
            }

            .close {
                  position: absolute;
                  top: 15px;
                  right: 35px;
                  font-size: 40px;
                  color: #f1f1f1;
                  cursor: pointer;
            }

            .close:hover {
                  color: #dcdcdc;
            }
      </style>
</head>

<body>
      <div class="container">
            <!-- Your existing code -->

            <% imageFileNames.forEach((fileName, index)=> { %>
                  <div class="image-container" onclick="openModal(); currentSlide('<%= index + 1 %>')" >
                        <img src="/my-uploads/<%= fileName %>" class="rounded" alt="Image <%= index + 1 %>">
                  </div>
                  <% }); %>

                        <!-- The Modal -->
                        <div id="myModal" class="modal">
                              <span class="close" onclick="closeModal()">&times;</span>
                              <div class="modal-content">
                                    <% imageFileNames.forEach((fileName, index)=> { %>
                                          <div class="mySlides">
                                                <img src="/my-uploads/<%= fileName %>" alt="Image <%= index + 1 %>">
                                          </div>
                                          <% }); %>
                              </div>
                        </div>

      </div>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
            crossorigin="anonymous"></script>
      <script>
            let slideIndex = 1;

            function openModal() {
                  document.getElementById('myModal').style.display = 'block';
            }

            function closeModal() {
                  document.getElementById('myModal').style.display = 'none';
            }

            function plusSlides(n) {
                  showSlides(slideIndex += n);
            }

            function currentSlide(n) {
                  showSlides(slideIndex = n);
            }

            function showSlides(n) {
                  let i;
                  const slides = document.getElementsByClassName('mySlides');
                  console.log(`${slides.length}`)
                  if (n > slides.length) {
                        slideIndex = 1;
                  }

                  if (n < 1) {
                        slideIndex = slides.length;
                  }
                 console.log(slideIndex)
                  for (i = 0; i < slides.length; i++) {
                        slides[i].style.display = 'none';
                  }

                  slides[slideIndex - 1].style.display = 'block';
            }


      </script>
</body>

</html>